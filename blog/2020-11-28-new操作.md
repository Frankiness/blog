---
slug: new
title: 手写new操作符
author: 老谭
author_title: 前端工程师
author_url: https://github.com/ Frankiness
author_image_url: ../static/img/avatar.jpg
tags: [前端, 面试]
---


new 实际上做了什么？

1. 创建一个新对象
1. 给这个新对象创建`__proto__`属性指向构造函数原型
1. 改变 this 指向，使得新对象能够调用构造函数
1. 返回新对象
<!-- truncate -->
```javascript
function myNew(fn) {
  const obj = {};
  //Object.setPrototypeOf(obj, fn.prototype)
  obj.__proto__ = fn.prototype; //创建__proto__属性指向构造函数原型
  fn.call(obj); //call让构造函数成为新对象的一个属性
  return obj;
}
```
